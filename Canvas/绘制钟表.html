<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>canvas图标</title>
    <style>
        .canvas-wrap {
            width: 500px;
            height: 550px;
            margin: 100px auto;
            background-color: antiquewhite;
            /* display: none; */
        }
    </style>
</head>

<body>
    <div class="canvas-wrap">
        <canvas id="canvas" width="500" height="550"></canvas>
    </div>
    <!-- <input type="text" id="miterLimit">
    <button onclick="draw()">click</button> -->
    <script>
        function clock() {
            const now = new Date();
            let h = now.getHours();
            h = h > 12 ? h - 12 : h;
            const m = now.getMinutes();
            const s = now.getSeconds();
            const ctx = document.getElementById('canvas').getContext('2d');
            ctx.save();
            ctx.clearRect(0, 0, 500, 550); // 清空画布
            ctx.translate(250, 250); // 改变位置
            ctx.rotate(-Math.PI / 2); // 调整旋转角度，竖直方向向上角度为0
            ctx.strokeStyle = "black";
            ctx.lineCap = "round"; // 绘制线为圆角

            // 绘制时针刻度
            ctx.save();
            for (let i = 1; i <= 12; i++) {
                ctx.beginPath();
                ctx.lineWidth = 10;
                ctx.moveTo(160, 0);
                ctx.lineTo(180, 0);
                ctx.rotate(Math.PI / 6);
                ctx.stroke();
                ctx.closePath();
            }
            ctx.restore();
            // 绘制分针刻度
            ctx.save();
            for (let i = 0; i < 60; i++) {
                if (i % 5 !== 0) {
                    ctx.beginPath();
                    ctx.strokeStyle = "red";
                    ctx.lineWidth = 6;
                    ctx.moveTo(174, 0);
                    ctx.lineTo(180, 0);
                    ctx.stroke();
                    ctx.closePath();
                }
                ctx.rotate(Math.PI / 30);
            }
            ctx.restore();
            // 绘制时针位置
            ctx.save();
            ctx.beginPath();
            ctx.rotate(Math.PI / 6 * h + Math.PI / 360 * m + Math.PI / 21600 * s);
            ctx.lineWidth = 10;
            ctx.moveTo(-20, 0);
            ctx.lineTo(110, 0);
            ctx.stroke();
            ctx.closePath();
            ctx.restore();
            // 绘制分针位置
            ctx.save();
            ctx.beginPath();
            ctx.rotate(Math.PI / 30 * m + Math.PI / 1800 * s);
            ctx.lineWidth = 6;
            ctx.moveTo(-30, 0);
            ctx.lineTo(140, 0);
            ctx.stroke();
            ctx.closePath();
            ctx.restore();
            // 绘制秒针位置
            ctx.save();
            ctx.beginPath();
            ctx.lineWidth = 4;
            ctx.rotate(Math.PI / 30 * s);
            ctx.strokeStyle = "red";
            ctx.fillStyle="red";
            ctx.moveTo(-40, 0);
            ctx.lineTo(120, 0);
            ctx.stroke();
            ctx.closePath();
            ctx.beginPath();
            ctx.arc(125, 0, 5, 0, Math.PI * 2);
            ctx.moveTo(130, 0);
            ctx.lineTo(150, 0);
            ctx.stroke();
            ctx.beginPath();
            ctx.arc(0, 0, 8, 0, Math.PI * 2);
            ctx.fill();
            ctx.closePath();
            ctx.closePath();

            ctx.restore();
            // 绘制边框
            ctx.beginPath();
            ctx.strokeStyle = "#325fa2";
            ctx.lineWidth = 14;
            ctx.arc(0, 0, 200, 0, Math.PI * 2, true);
            ctx.stroke();
            ctx.closePath();
            ctx.restore();
            window.requestAnimationFrame(clock); // 动画
        }
        window.requestAnimationFrame(clock);
        // clock();

        // var sun = new Image();
        // var moon = new Image();
        // var earth = new Image();

        // function init() {
        //     sun.src = 'https://mdn.mozillademos.org/files/1456/Canvas_sun.png';
        //     moon.src = 'https://mdn.mozillademos.org/files/1443/Canvas_moon.png';
        //     earth.src = 'https://mdn.mozillademos.org/files/1429/Canvas_earth.png';
        //     window.requestAnimationFrame(draw);
        // }

        // function draw() {
        //     var ctx = document.getElementById('canvas').getContext('2d');

        //     ctx.globalCompositeOperation = 'destination-over';
        //     ctx.clearRect(0, 0, 300, 300); // clear canvas

        //     ctx.fillStyle = 'rgba(0,0,0,0.4)';
        //     ctx.strokeStyle = 'rgba(0,153,255,0.4)';
        //     ctx.save();
        //     ctx.translate(150, 150);

        //     // Earth
        //     var time = new Date();
        //     ctx.rotate(((2 * Math.PI) / 60) * time.getSeconds() + ((2 * Math.PI) / 60000) * time.getMilliseconds());
        //     ctx.translate(105, 0);
        //     ctx.fillRect(0, -12, 50, 24); // Shadow
        //     ctx.drawImage(earth, -12, -12);

        //     // Moon
        //     ctx.save();
        //     ctx.rotate(((2 * Math.PI) / 6) * time.getSeconds() + ((2 * Math.PI) / 6000) * time.getMilliseconds());
        //     ctx.translate(0, 28.5);
        //     ctx.drawImage(moon, -3.5, -3.5);
        //     ctx.restore();

        //     ctx.restore();

        //     ctx.beginPath();
        //     ctx.arc(150, 150, 105, 0, Math.PI * 2, false); // Earth orbit
        //     ctx.stroke();

        //     ctx.drawImage(sun, 0, 0, 300, 300);

        //     window.requestAnimationFrame(draw);
        // }

        // init();

        // const canvas = document.getElementById('canvas');
        // const ctx = canvas.getContext('2d');
        // const linearGradient = ctx.createRadialGradient(30,30,10,30,30,50);
        // linearGradient.addColorStop(0,'red');
        // linearGradient.addColorStop(1,'blue');

        // let img = new Image();
        // img.src = 'test.jpg';
        // img.onload = function () {
        //     let ptrn = ctx.createPattern(img, 'repeat');
        //     ctx.fillStyle = ptrn;
        //     ctx.fillRect(10, 10, 200, 200);
        // }

        //   ctx.fillRect(10,10,130,130);
        //   ctx.strokeRect(50,50,50,50);
        // var lineargradient = ctx.createLinearGradient(0,0,150,150);
        // lineargradient.addColorStop(0,'white');
        // lineargradient.addColorStop(1,'black');
        // ctx.fill()
        // var lingrad = ctx.createLinearGradient(0, 0, 0, 150);
        // lingrad.addColorStop(0, '#00ABEB');
        // lingrad.addColorStop(0.5, '#fff');
        // lingrad.addColorStop(0.5, '#26C000');
        // lingrad.addColorStop(1, '#fff');

        // var lingrad2 = ctx.createLinearGradient(0, 50, 0, 95);
        // lingrad2.addColorStop(0.5, '#000');
        // lingrad2.addColorStop(1, 'rgba(0,0,0,0)');

        // // assign gradients to fill and stroke styles
        // ctx.fillStyle = lingrad;
        // ctx.strokeStyle = lingrad2;

        // // draw shapes
        // ctx.fillRect(10, 10, 130, 130);
        // ctx.strokeRect(50, 50, 50, 50);


        // ctx.strokeStyle = 'red';
        // ctx.fillStyle = "blue";
        // ctx.globalAlpha = 0.5
        // let offset = 0;

        // function draw() {
        //     ctx.clearRect(0, 0, canvas.width, canvas.height);
        //     ctx.setLineDash([4, 2]);
        //     ctx.lineDashOffset = offset;
        //     ctx.strokeRect(10, 10, 100, 100);
        // }

        // function draw1() {
        //     // ctx.clearRect(0, 0, canvas.width, canvas.height);
        //     ctx.setLineDash([4, 2]);
        //     ctx.lineDashOffset = -offset;
        //     ctx.strokeRect(150, 10, 100, 100);
        // }

        // function march() {
        //     offset++;
        //     if (offset > 16) {
        //         offset = 0;
        //     }
        //     draw();
        //     draw1();
        //     setTimeout(march, 100);
        // }
        // march();


        // miterLimit
        // draw()
        // function draw() {
        //     var ctx = document.getElementById('canvas').getContext('2d');

        //     // 清空画布
        //     ctx.clearRect(0, 0, canvas.width, canvas.height);

        //     // 绘制参考线
        //     ctx.strokeStyle = '#09f';
        //     ctx.lineWidth = 2;
        //     ctx.strokeRect(-5, 50, 200, 50);

        //     // 设置线条样式
        //     ctx.strokeStyle = '#000';
        //     ctx.lineWidth = 10;

        //     // 检查输入
        //     if (document.getElementById('miterLimit').value.match(/\d+(\.\d+)?/)) {
        //         ctx.miterLimit = parseFloat(document.getElementById('miterLimit').value);
        //     } else {
        //         alert('Value must be a positive number');
        //     }

        //     // 绘制线条
        //     ctx.beginPath();
        //     ctx.moveTo(0, 100);
        //     for (i = 0; i < 24; i++) {
        //         var dy = i % 2 == 0 ? 25 : -25;
        //         ctx.lineTo(Math.pow(i, 1.5) * 2, 75 + dy);
        //     }
        //     ctx.stroke();
        //     return false;
        // }
        // ctx.beginPath();
        // ctx.arc(50,50,50,Math.PI/2,Math.PI,true);
        // ctx.stroke();
        // ctx.fillRect(20,20,50,90)
        // ctx.clearRect(30,30,30,30)
        // ctx.strokeRect(20,20,50,60)

        // ctx.arc(75, 75, 50, 0, Math.PI * 2, true); // 绘制
        // ctx.moveTo(110, 75);
        // ctx.arc(75, 75, 35, 0, Math.PI, false); // 口(顺时针)
        // ctx.moveTo(65, 65);
        // ctx.arc(60, 65, 5, 0, Math.PI * 2, true); // 左眼
        // ctx.moveTo(95, 65);
        // ctx.arc(90, 65, 5, 0, Math.PI * 2, true); // 右眼
        // ctx.stroke();
    </script>
</body>

</html>